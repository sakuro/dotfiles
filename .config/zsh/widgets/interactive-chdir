#!/bin/zsh

  local selected=$(peco --query "$LBUFFER")

  [[ -n ${~selected} ]] || { bell && return }
  [[ -d ${~selected} ]] || { bell && return }
  BUFFER="cd $selected"
  zle accept-line
