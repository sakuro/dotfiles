# common typos
alias rquire require

# useful stdlibs
require 'date'
require 'fileutils'
require 'pathname'
require 'time'

END { puts }

# Prefer reline
begin
  require 'reline'
  puts 'Using reline'
rescue LoadError
  require 'readline'
  puts 'Using readline'
ensure
  history_path = File.join(ENV.fetch('XDG_CACHE_HOME', File.expand_path('~/.cache')), 'irb/history')
  IRB.conf[:HISTORY_FILE] = history_path
  FileUtils.mkdir_p(File.dirname(history_path))
end

require 'irb/ext/save-history'
require 'irb/completion'

IRB.conf[:SAVE_HISTORY] = 10000
IRB.conf[:PROMPT_MODE] = :SIMPLE
