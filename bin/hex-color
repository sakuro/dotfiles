#!/usr/bin/osascript -l JavaScript

const colorToHex = (color) => {
  const hexValue = (Math.trunc(color[0] * 255) << 16) | (Math.trunc(color[1] * 255) << 8) | (Math.trunc(color[2] * 255));
  return `#${("000000" + hexValue.toString(16)).slice(-6)}`;
}

function run(_argv) {
  const app = Application.currentApplication();
  app.includeStandardAdditions = true;
  return colorToHex(app.chooseColor({defaultColor: [0, 1, 0]}));
}
