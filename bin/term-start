#!/bin/zsh

# 引数があればその日、なければ今日
if [ -n "$1" ]; then
  date_str="$1"
else
  date_str=$(date +%Y-%m-%d)
fi

year=$(date -d "$date_str" +%Y)
month=$(date -d "$date_str" +%m)

case $month in
  0[123])
    echo "$((year - 1))-10-01"
    ;;
  0[4-9])
    echo "${year}-04-01"
    ;;
  *)
    echo "${year}-10-01"
    ;;
esac

